!function(e){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.social_profiles=redux.field_objects.social_profiles||{},redux.field_objects.social_profiles.fieldID="",redux.field_objects.social_profiles.optName="",redux.field_objects.social_profiles.init=function(i){i||(i=e(document).find(".redux-group-tab:visible").find(".redux-container-social_profiles:visible")),e(i).each(function(){var i=e(this),o=i;if(i.hasClass("redux-field-container")||(o=i.parents(".redux-field-container:first")),!o.is(":hidden"))o.hasClass("redux-field-init")&&(o.removeClass("redux-field-init"),redux.field_objects.social_profiles.modInit(i),redux.field_objects.social_profiles.sortListByOrder(i),redux.field_objects.social_profiles.sortEnableListByOrder(i),redux.field_objects.social_profiles.initializeResetButtons(i),redux.field_objects.social_profiles.showEnabledDetails(i))})},redux.field_objects.social_profiles.modInit=function(i){redux.field_objects.social_profiles.fieldID=i.find(".redux-social-profiles-container").data("id"),redux.field_objects.social_profiles.optName=i.find(".redux-social-profiles-container").data("opt-name"),i.find(".redux-social-profiles-list").sortable({revert:"invalid",cursor:"move",helper:"clone",handle:".redux-icon-preview",placeholder:"sortable-placeholder",stop:function(){redux.field_objects.social_profiles.reorderSocialItems(i),redux_change(i.find(".redux-social-profiles-container"))}}),i.find(".redux-social-profiles-selector-list").sortable({revert:"invalid",cursor:"move",helper:"clone",placeholder:"sortable-placeholder",stop:function(){redux.field_objects.social_profiles.reorderSocialEnable(i),redux_change(i.find(".redux-social-profiles-container"))}}),i.find(".redux-social-profiles-url-text").on("blur",function(){var o=e(this).data("key"),l=e(this).val();redux.field_objects.social_profiles.updateDataString(i,o,"url",l)}),i.find(".redux-social-profiles-item-enable").on("click",function(){var o=e(this).data("key");redux.field_objects.social_profiles.toggleEnabled(i,o)}),i.find(".redux-social-profiles-item-enabled input").on("click",function(o){var l,r;o.preventDefault(),r=(l=e(this)).data("key"),redux.field_objects.social_profiles.toggleEnabled(i,r)})},redux.field_objects.social_profiles.valueFromDataString=function(e,i){var o,l=e.find(".redux-social-profiles-hidden-data-"+i).val();return(l=JSON.parse(l=decodeURIComponent(l))).name},redux.field_objects.social_profiles.updateDataString=function(e,i,o,l){var r=e.find(".redux-social-profiles-hidden-data-"+i),s=r.val();(s=JSON.parse(s=decodeURIComponent(s)))[o]=l,s=encodeURIComponent(s=JSON.stringify(s)),r.val(s)},redux.field_objects.social_profiles.sortListByOrder=function(i){var o=i.find("ul.redux-social-profiles-list"),l=o.children("li");l.detach().sort(function(i,o){return e(i).find(".redux-social-profiles-item-order input").val()-e(o).find(".redux-social-profiles-item-order input").val()}),o.append(l)},redux.field_objects.social_profiles.sortEnableListByOrder=function(i){var o=i.find("ul.redux-social-profiles-selector-list"),l=o.children("li");l.detach().sort(function(i,o){return e(i).data("order")-e(o).data("order")}),o.append(l)},redux.field_objects.social_profiles.initializeResetButtons=function(i){i.find(".redux-social-profiles-item-reset a").on("click",function(){var o,l=e(this);l.length>0&&(o=l.data("value"),redux.field_objects.social_profiles.resetItem(i,o))})},redux.field_objects.social_profiles.resetItem=function(e,i){var o=i;i=i.replace(/[^0-9.]/g,"");var l=reduxSocialDefaults[i].color,r=reduxSocialDefaults[i].background,s=reduxSocialDefaults[i].color_hover,a=reduxSocialDefaults[i].background_hover;e.find(".redux-social-profiles-color-picker-"+o+".text").spectrum("set",l),e.find(".redux-social-profiles-color-picker-"+o+".background").spectrum("set",r),e.find(".redux-social-profiles-color-picker-"+o+".color_hover").spectrum("set",s),e.find(".redux-social-profiles-color-picker-"+o+".background_hover").spectrum("set",a),redux.field_objects.social_profiles.updateDataString(e,o,"color",l),redux.field_objects.social_profiles.updateDataString(e,o,"background",r),redux.field_objects.social_profiles.updateDataString(e,o,"color_hover",s),redux.field_objects.social_profiles.updateDataString(e,o,"background_hover",a),redux.field_objects.social_profiles.updatePreview(e,o)},redux.field_objects.social_profiles.updatePreview=function(e,i){var o=redux.field_objects.social_profiles.valueFromDataString(e,i,"color"),l=redux.field_objects.social_profiles.valueFromDataString(e,i,"background"),r=redux.field_objects.social_profiles.valueFromDataString(e,i,"color_hover"),s=redux.field_objects.social_profiles.valueFromDataString(e,i,"background_hover"),a=i.replace(/[^0-9.]/g,""),c=reduxSocialDefaults[a].icon,t=e.find("#redux-social-item-"+i+" i."+c);t.css("background-color",l),t.css("color",o),t.on({mouseenter:function(){t.css("background-color",s),t.css("color",r)},mouseleave:function(){t.css("background-color",l),t.css("color",o)}})},redux.field_objects.social_profiles.toggleEnabled=function(e,i){var o,l=e.find("#redux-social-profiles-item-enable-"+i);l.hasClass("enabled")?(l.removeClass("enabled"),o=!1):(l.addClass("enabled"),o=!0),redux.field_objects.social_profiles.updateDataString(e,i,"enabled",o),redux_change(e.find(".redux-social-profiles-container")),redux.field_objects.social_profiles.showEnabledDetails(e)},redux.field_objects.social_profiles.showEnabledDetails=function(i){var o,l=i.find("li.redux-social-profiles-item-enable");l.length>0&&(o=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d9ead3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]],l.each(function(){var l,r,s=e(this),a=s.data("key");if(s.hasClass("enabled"))i.find(".redux-social-profiles-color-picker-"+a).spectrum({showAlpha:!0,showInput:!0,allowEmpty:!0,className:"redux-full-spectrum",showInitial:!0,showPalette:!0,showSelectionPalette:!0,clickoutFiresChange:!0,preferredFormat:"rgb",localStorageKey:"redux.social-profiles.spectrum",palette:o,change:function(o){var l;l=e(this).hasClass("text")?"color":e(this).hasClass("color_hover")?"color_hover":e(this).hasClass("background_hover")?"background_hover":"background",o=null===o?"":o.toRgbString(),redux.field_objects.social_profiles.updateDataString(i,a,l,o),redux.field_objects.social_profiles.updatePreview(i,a)}}),i.find("li#redux-social-item-"+a).slideDown(),r=e(l=i.find("input.checkbox-"+a)).parent().find(".checkbox-check-"+a),l.prop("checked",!0),r.val(1);else{if((s=i.find("li#redux-social-item-"+a)).is(":hidden"))return;s.slideUp("medium"),r=e(l=i.find("input.checkbox-"+a)).parent().find(".checkbox-check-"+a),l.prop("checked",!1),r.val(0)}}))},redux.field_objects.social_profiles.reorderSocialItems=function(i){var o=i.find("ul.redux-social-profiles-list li");o.length>0&&(o.each(function(o){var l=e(this),r=l.data("key");l.find(".redux-social-profiles-item-order input").val(o),redux.field_objects.social_profiles.updateDataString(i,r,"order",o),i.find("#redux-social-profiles-item-enable-"+r).data("order",o)}),redux.field_objects.social_profiles.sortEnableListByOrder(i))},redux.field_objects.social_profiles.reorderSocialEnable=function(i){var o=i.find("ul.redux-social-profiles-selector-list li");o.length>0&&o.each(function(o){var l=e(this),r=l.data("key"),s=i.find("li#redux-social-item-"+r).find(".redux-social-profiles-item-order input");l.data("order",o),s.val(o),redux.field_objects.social_profiles.updateDataString(i,r,"order",o)}),redux.field_objects.social_profiles.sortListByOrder(i)}}(jQuery);