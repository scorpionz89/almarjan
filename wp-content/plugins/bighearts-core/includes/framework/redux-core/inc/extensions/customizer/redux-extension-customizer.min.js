!function(e){"use strict";redux.customizer=redux.customizer||{},e(document).ready(function(){redux.customizer.init()}),redux.customizer.init=function(){var t,i;if(e("body").addClass(redux.customizer.body_class),e(".accordion-section.redux-section, .accordion-section.redux-panel, .accordion-section-title").on("click",function(){e.redux.initFields(),redux.customizer.resize(e(this).parent())}),e(".accordion-section.redux-section h3, .accordion-section.redux-panel h3").on("click",function(){redux.customizer.resize(e(this).parent())}),void 0===redux.optName){console.log("Redux customizer extension failure");return}e(".control-panel-back, .customize-panel-back").on("click",function(){e(document).find("form#customize-controls").removeAttr("style"),e(document).find(".wp-full-overlay").removeAttr("style"),redux.customizer.width=0}),e(".control-section-back, .customize-section-back").on("click",function(){redux.customizer.resize(e(this).parent().parent().parent())}),redux.customizer&&e("#customize-save-button-wrapper #save").on("click",function(){setTimeout(function(){var t=e(document.getElementById("customize-controls")).serialize(),i=e(".redux-customizer-nonce").data("nonce");e.ajax({type:"post",dataType:"json",url:ajaxurl,data:{action:redux.optName.args.opt_name+"_customizer_save",nonce:i,opt_name:redux.optName.args.opt_name,data:t},error:function(e){!0===redux.optName.args.dev_mode&&console.log(e.responseText)},success:function(t){"success"===t.status?(console.log(t),e(".redux-action_bar .spinner").removeClass("is-active"),redux.optName.options=t.options,redux.optName.errors=t.errors,redux.optName.sanitize=t.sanitize,(null!==t.errors||null!==t.warnings)&&e.redux.notices(),null!==t.sanitize&&e.redux.sanitize()):console.log(t.responseText)}})},1e3)}),redux.optName.args.disable_save_warn=!0,t=redux_change,redux_change=function(i){i=e(i),t.apply(this,arguments);var r=i.parents(".redux-field:first").data("id");e.each(redux.optName.required[r],function(t){var i,r=!1,n=e("#"+redux.optName.args.opt_name+"-"+t);0===(i=n.parents("tr:first")).length&&(i=n.parents("li:first")),r=e.redux.check_parents_dependencies(t);var a=i.parent().find("li");!0===r?jQuery.each(a,function(){var t=i.find(".redux-field:first").data("id"),r=jQuery(this).find(".redux-field:first").data("id");r&&redux.optName.required[t][r]&&!0===e.redux.check_parents_dependencies(redux.optName.required[t][r])&&jQuery(this).removeClass("hide")}):jQuery.each(a,function(){var t=i.find(".redux-field:first").data("id"),r=jQuery(this).find(".redux-field:first").data("id");r&&redux.optName.required[t][r]&&!0===e.redux.check_parents_dependencies(redux.optName.required[t][r])&&jQuery(this).addClass("hide")})}),redux.customizer.save(i)},i=e.redux.initFields,e.redux.initFiles=function(){i()}},redux.customizer.resize=function(t){var i,r,n;t.attr("data-width")&&(redux.customizer.width=t.attr("data-width")),i=redux.customizer.width,640>e("body").width()&&(i=""),""!==i&&(r=e("#"+t.attr("aria-owns"))).length>0&&(t=r),t.hasClass("open")||t.hasClass("current-panel")||t.hasClass("current-section")?""!==i&&(e(document).find("form#customize-controls").attr("style","width:"+i+";"),e(document).find(".wp-full-overlay").attr("style","margin-left:"+i+";")):(n=e('*[aria-owns="'+(n=t.attr("id"))+'"]').parents(".redux-panel:first").attr("id"),(i=e('*[aria-owns="'+n+'"]').attr("data-width"))?(e(document).find("form#customize-controls").attr("style","width:"+i+";"),e(document).find(".wp-full-overlay").attr("style","margin-left:"+i+";")):(e(document).find("form#customize-controls").removeAttr("style"),e(document).find(".wp-full-overlay").removeAttr("style")))},redux.customizer.save=function(e){var t=e.hasClass("redux-field")?e:e.parents(".redux-field-container:first");redux.customizer.inputSave(t)},redux.customizer.inputSave=function(t){var i,r,n,a;t.hasClass("redux-field-container")||(t=t.parents('[class^="redux-field-container"]')),(i=t.parent().find(".redux-customizer-input").data("id"))||(i=(t=t.parents(".redux-container-repeater:first")).parent().find(".redux-customizer-input").data("id")),r=t.find(":input").serializeJSON(),e.each(r,function(e,t){e=null,r=t}),r[n=t.parent().find(".redux-customizer-input").data("key")]&&(r=r[n]),JSON.stringify((a=wp.customize.control(i)).setting._value)!==JSON.stringify(r)&&(a.setting._value=null),a.setting.set(r)}}(jQuery);